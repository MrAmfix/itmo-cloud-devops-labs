## Отчет по лабораторной работе №2*

# Плохие практики (bad_docker-compose.yml)
* Использование ```image: postgres:latest```. Такая же ошибка, как в BadDockerfile, надо указывать конкретную версию, так как новые могут быть нестабильными и ваше приложение полетит.
* Явное указание всех данных для подключения в ```environment```, прямо строчками, так делать плохо, могут украсть.
* Отсутствие ```restart: always```. Если контейнер упадет из-за ошибки его хорошо бы перезапустить.
* Бонус: использование портов ```5432:5432``` в базе данных. По своему опыту, когда поднимал базу данных на одном арендованном сервере с портами 5432:5432 на этот порт постоянно стучались и пытались угадать user и password, после кучи запросов база данных ложилась.

# Исправление (good_docker-compose.yml)
* Указана конкретная версия ```image: postgres:16.0```. Поможет избежать ошибок с поломками на новых версиях.
* Переместил все данные в файл ```.env```, контейнер сам подгрузит оттуда все переменные. Поможет избежать проблем с получением доступа сторонними личностями.
* Добавил ```restart:always```. Теперь если контейнер упадет, он перезапустится и продолжит работать.
* Бонус: изменил порты, теперь при хосте на арендованных серверах база данных не упадет из-за постоянных обращений. Да в целом к ней никто левый не обратится, порт закрытый же (как минимум на том сервере, где я хостил проект, а так надо смотреть список открытых портов).

# Изоляция контейнеров
Создал две разные сети: ```db_network``` и ```api_network```, и указал для каждого контейнера соответствующую сеть. Так как контейнеры находятся в разных сетях, они не смогут друг друга увидеть и соответственно общаться.